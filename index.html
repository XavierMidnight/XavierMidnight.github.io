<!DOCTYPE html>
<html>
<head>
  <script type="text/javascript">
var strengthTotal = 0;
var pushupTotal = 0;
var tireThrowTotal = 0;
var researchPointsSpent = 0;
var researchPoints = 0;

var exs = [];
/*var ex = {
  name:"",
  total:0
};*/

function addEx(initialEx){

  var newEx = new Object();
  if(initialEx==undefined){
    newEx.name = document.getElementById("newEx").value;
    researchPoints=researchPoints-1;
    researchPointsSpent=researchPointsSpent+1;
    document.getElementById("researchPoints").value = researchPoints;
    if(researchPoints<1){
        document.getElementById("newExButton").disabled = true;
        document.getElementById("newEx").disabled = true;
        document.getElementById("newEx").placeholder = "More Research Points Needed";
    }
  }else{
    newEx.name = initialEx;
  }

      newEx.total=0;
      exs.push(newEx);

      document.getElementById("newEx").value="";

      updateEx();
}

function init(){
  addEx("Pushups");
  addEx("Tire_Throw");
  updateEx();
}

function updateEx(){

  var exsHtml ="";
  for(var i=0;i<exs.length;i++){
    exsHtml = exsHtml + '<button id="'+exs[i].name+'Button" onclick="action(\''+exs[i].name+'\')">'+exs[i].name+'</button> <label for="'+exs[i].name+'Total">Count</label> <input id="'+exs[i].name+'Total" value="'+exs[i].total+'" type="input" readonly="readonly" style="border:none"/> </br>'
  }
  var exsContainer = document.getElementById("exsContainer")
  exsContainer.innerHTML = exsHtml;
}
/*
function newEx(){
  var newEx = document.getElementById("newEx").value;
  if(newEx.trim()!=""){
    exs.push(newEx);
  }

}*/

function action(exName){
  for(var i=0;i<exs.length;i++){
    if(exs[i].name==exName){
      exs[i].total=exs[i].total+1;
      document.getElementById(exs[i].name+"Total").value = exs[i].total;
      strengthTotal = strengthTotal+1/exs[i].total;
      document.getElementById("strengthTotal").value = strengthTotal;
      researchPoints = Math.floor(strengthTotal/10-researchPointsSpent);
      document.getElementById("researchPoints").value = researchPoints;
      document.getElementById("researchPointsPercent").value = Math.trunc((strengthTotal/10-researchPointsSpent)*100);
      if(researchPoints>=1){
          document.getElementById("newExButton").disabled = false;
          document.getElementById("newEx").disabled = false;
          document.getElementById("newEx").placeholder = "New Excercise Unlocked!";

      }
    }
  }
}

function updateStrength(){
  document.getElementById("strengthTotal").value = strengthTotal;
}

function pushup(){
  pushupTotal = pushupTotal+1;
  strengthTotal = strengthTotal+1/pushupTotal;
  document.getElementById("pushupTotal").value = pushupTotal;
  updateStrength()
}
function tireThrow(){
tireThrowTotal = tireThrowTotal+1;
  strengthTotal = strengthTotal+1/tireThrowTotal;
  document.getElementById("tireThrowTotal").value = tireThrowTotal;
  updateStrength()
}
/*
function updateDisplay(){
  for(var i=0;i<elements.length;i++){
    document.getElementById(elements[i].id).value=elements[i].total;
  }
}*/
  </script>
</head>
<body onload="init()">
<h1>Be the Best!</h1>
<button onclick="alert('You\'re the best')">Click Me</button>
</br>
</br>
<label for="strengthTotal">Total Strength</label>
<input id="strengthTotal" type="input" readonly style="border:none"/>
</br>
</br>

<div id="exsContainer"></div>
</br>
</br>

<label for="researchPoints">Research Points</label>
<input id="researchPoints" type="input" readonly style="border:none"/>
</br>
<label for="researchPointsPercent">Research Points Percent</label>
<progress id="researchPointsPercent" value="0" max="100"></progress>
</br>
<input id="newEx" type="input" placeholder="More Research Points Needed" disabled="disabled" style="width:200px"/>
&nbsp;<button id="newExButton" onclick="addEx()" disabled="disabled" >Add Excercise</button>
</body>
</html>
